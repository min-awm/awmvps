import{r as d,b as x,A as m,o as c,c as i,a as t,h as g,i as u,F as y,j as f,t as r}from"./index-CDvfFfFm.js";import{C as _}from"./chevron-right-C7CuuWx9.js";import{T as v}from"./trash-2-BKYbS0_N.js";const w={class:"flex flex-col flex-1 overflow-hidden"},k={class:"p-4 sm:p-6"},$={class:"flex items-center gap-2 mb-6"},b={class:"px-2 overflow-x-auto"},D={class:"min-w-full divide-y divide-gray-200"},I={class:"bg-white divide-y divide-gray-200"},S={class:"px-3 py-4"},C={class:"flex items-center"},L={class:"px-3 py-4 text-sm text-gray-500"},T={class:"px-3 py-4 text-sm text-gray-500"},E={class:"px-3 py-4 text-sm text-gray-500"},A={class:"px-3 py-4 text-sm text-gray-500"},R={class:"flex items-center justify-end gap-3 px-3 py-4 space-x-2 text-right"},j=["onClick"],B={class:"p-6"},F={class:"h-48 p-4 overflow-y-auto font-mono text-sm text-green-400 bg-gray-900 rounded-lg"},G={__name:"Image",setup(N){const n=d([]),l=d([]);p();async function p(){try{const a=await x.get(`${m.LIST_IMAGE_DOCKER}`);if(a.success)if(a.message=="")l.value=[];else{const s=a.message.trim().split(`
`).map(o=>o.trim()).map(o=>o.slice(1,-1)).map(JSON.parse);l.value=s}else n.value.push(`[${new Date().toLocaleTimeString()}] ${a.message}`)}catch(a){console.log(`Docker: ${a}`)}}async function h(a){n.value.push(`[${new Date().toLocaleTimeString()}] Đang xoá image ${a}`);try{const e=new FormData;e.append("id",a);const s=await x.post(`${m.REMOVE_IMAGE_DOCKER}`,e);s.success&&p(),n.value.push(`[${new Date().toLocaleTimeString()}] ${s.message}`)}catch(e){console.log(`Docker: ${e}`)}}return(a,e)=>(c(),i("div",w,[t("div",k,[t("div",$,[t("button",{class:"flex items-center text-sm text-blue-600 hover:text-blue-700 md:hidden",onClick:e[0]||(e[0]=s=>a.$emit("openSideBarFn"))},[g(u(_),{class:"mr-1"})]),e[1]||(e[1]=t("h1",{class:"text-xl font-semibold text-gray-900"},"Images",-1))]),t("div",b,[t("table",D,[e[2]||(e[2]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{scope:"col",class:"px-3 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase"}," Name "),t("th",{scope:"col",class:"px-3 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase"}," Tag "),t("th",{scope:"col",class:"px-3 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase"}," Image ID "),t("th",{scope:"col",class:"px-3 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase"}," Created "),t("th",{scope:"col",class:"px-3 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase"}," Size "),t("th",{scope:"col",class:"px-3 py-3 text-xs font-medium tracking-wider text-right text-gray-500 uppercase"}," Actions ")])],-1)),t("tbody",I,[(c(!0),i(y,null,f(l.value,(s,o)=>(c(),i("tr",{key:`image-${o}`},[t("td",S,[t("div",C,r(s.Repository),1)]),t("td",L,r(s.Tag),1),t("td",T,r(s.ID),1),t("td",E,r(s.CreatedSince),1),t("td",A,r(s.Size),1),t("td",R,[t("button",{class:"text-gray-400 hover:text-gray-500",onClick:O=>h(s.ID)},[g(u(v),{class:"w-4 h-4"})],8,j)])]))),128))])])])]),t("div",B,[e[3]||(e[3]=t("h2",{class:"mb-4 text-2xl font-semibold"},"Logs",-1)),t("div",F,[(c(!0),i(y,null,f(n.value,(s,o)=>(c(),i("p",{key:`Image-log-${o}`},r(s),1))),128))])])]))}};export{G as default};
