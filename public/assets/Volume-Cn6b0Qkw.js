import{r as m,b as p,A as u,o as r,c as n,a as e,h as x,i as g,F as f,j as v,t as c}from"./index-CDvfFfFm.js";import{C as y}from"./chevron-right-C7CuuWx9.js";import{T as _}from"./trash-2-BKYbS0_N.js";const w={class:"flex flex-col flex-1 overflow-hidden"},$={class:"p-4 sm:p-6"},b={class:"flex items-center gap-2 mb-6"},D={class:"px-2 overflow-x-auto"},k={class:"min-w-full divide-y divide-gray-200"},L={class:"bg-white divide-y divide-gray-200"},S={class:"px-3 py-4"},V={class:"flex items-center"},C={class:"px-3 py-4 text-sm text-gray-500"},E={class:"flex items-center justify-end gap-3 px-3 py-4 space-x-2 text-right"},N=["onClick"],O={class:"p-6"},T={class:"h-48 p-4 overflow-y-auto font-mono text-sm text-green-400 bg-gray-900 rounded-lg"},I={__name:"Volume",setup(j){const i=m([]),l=m([]);d();async function d(){try{const s=await p.get(`${u.LIST_VOLUME_DOCKER}`);if(s.success)if(s.message=="")l.value=[];else{const o=s.message.trim().split(`
`).map(a=>a.trim()).map(a=>a.slice(1,-1)).map(JSON.parse);l.value=o}else i.value.push(`[${new Date().toLocaleTimeString()}] ${s.message}`)}catch(s){console.log(`Docker: ${s}`)}}async function h(s){i.value.push(`[${new Date().toLocaleTimeString()}] Đang xoá volume ${s}`);try{const t=new FormData;t.append("id",s);const o=await p.post(`${u.REMOVE_VOLUME_DOCKER}`,t);o.success&&d(),i.value.push(`[${new Date().toLocaleTimeString()}] ${o.message}`)}catch(t){console.log(`Docker: ${t}`)}}return(s,t)=>(r(),n("div",w,[e("div",$,[e("div",b,[e("button",{class:"flex items-center text-sm text-blue-600 hover:text-blue-700 md:hidden",onClick:t[0]||(t[0]=o=>s.$emit("openSideBarFn"))},[x(g(y),{class:"mr-1"})]),t[1]||(t[1]=e("h1",{class:"text-xl font-semibold text-gray-900"},"Volumes",-1))]),e("div",D,[e("table",k,[t[2]||(t[2]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{scope:"col",class:"px-3 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase"}," Driver "),e("th",{scope:"col",class:"px-3 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase"}," Name "),e("th",{scope:"col",class:"px-3 py-3 text-xs font-medium tracking-wider text-right text-gray-500 uppercase"}," Actions ")])],-1)),e("tbody",L,[(r(!0),n(f,null,v(l.value,(o,a)=>(r(),n("tr",{key:`volume-${a}`},[e("td",S,[e("div",V,c(o.Driver),1)]),e("td",C,c(o.Name),1),e("td",E,[e("button",{class:"text-gray-400 hover:text-gray-500",onClick:B=>h(o.Name)},[x(g(_),{class:"w-4 h-4"})],8,N)])]))),128))])])])]),e("div",O,[t[3]||(t[3]=e("h2",{class:"mb-4 text-2xl font-semibold"},"Logs",-1)),e("div",T,[(r(!0),n(f,null,v(i.value,(o,a)=>(r(),n("p",{key:`volume-log-${a}`},c(o),1))),128))])])]))}};export{I as default};
