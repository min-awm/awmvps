import{g as _,r as y,b as p,A as d,o as r,c,a as t,h as x,i as g,F as h,j as f,t as i}from"./index-CDvfFfFm.js";import{C as $}from"./chevron-right-C7CuuWx9.js";import{T as D}from"./trash-2-BKYbS0_N.js";/**
 * @license lucide-vue-next v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C=_("OctagonPauseIcon",[["path",{d:"M10 15V9",key:"1lckn7"}],["path",{d:"M14 15V9",key:"1muqhk"}],["path",{d:"M2.586 16.726A2 2 0 0 1 2 15.312V8.688a2 2 0 0 1 .586-1.414l4.688-4.688A2 2 0 0 1 8.688 2h6.624a2 2 0 0 1 1.414.586l4.688 4.688A2 2 0 0 1 22 8.688v6.624a2 2 0 0 1-.586 1.414l-4.688 4.688a2 2 0 0 1-1.414.586H8.688a2 2 0 0 1-1.414-.586z",key:"2d38gg"}]]);/**
 * @license lucide-vue-next v0.452.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b=_("PlayIcon",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]),S={class:"flex flex-col flex-1 overflow-hidden"},I={class:"p-4 sm:p-6"},T={class:"flex items-center gap-2 mb-6"},N={class:"px-2 overflow-x-auto"},L={class:"min-w-full divide-y divide-gray-200"},O={class:"bg-white divide-y divide-gray-200"},A={class:"px-3 py-4"},E={class:"flex items-center"},R={class:"px-3 py-4 text-sm text-gray-500"},P={class:"px-3 py-4 text-sm text-gray-500"},F={class:"px-3 py-4 text-sm text-gray-500"},V={class:"px-3 py-4 text-sm text-gray-500"},j={class:"px-3 py-4 text-sm text-gray-500"},B={class:"flex items-center justify-end gap-3 px-3 py-4 space-x-2 text-right"},K=["onClick"],M=["onClick"],q=["onClick"],z={class:"p-6"},H={class:"h-48 p-4 overflow-y-auto font-mono text-sm text-green-400 bg-gray-900 rounded-lg"},W={__name:"Container",setup(J){const o=y([]),m=y([]);l();async function l(){try{const a=await p.get(`${d.LIST_CONTAINER_DOCKER}`);if(a.success)if(a.message=="")m.value=[];else{const s=a.message.trim().split(`
`).map(n=>n.trim()).map(n=>n.slice(1,-1)).map(JSON.parse);m.value=s}else o.value.push(`[${new Date().toLocaleTimeString()}] ${a.message}`)}catch(a){console.log(`Docker: ${a}`)}}async function v(a){o.value.push(`[${new Date().toLocaleTimeString()}] Đang dừng container ${a}`);try{const e=new FormData;e.append("id",a);const s=await p.post(`${d.STOP_CONTAINER_DOCKER}`,e);s.success&&l(),o.value.push(`[${new Date().toLocaleTimeString()}] ${s.message}`)}catch(e){console.log(`Docker: ${e}`)}}async function k(a){o.value.push(`[${new Date().toLocaleTimeString()}] Đang chạy container ${a}`);try{const e=new FormData;e.append("id",a);const s=await p.post(`${d.START_CONTAINER_DOCKER}`,e);s.success&&l(),o.value.push(`[${new Date().toLocaleTimeString()}] ${s.message}`)}catch(e){console.log(`Docker: ${e}`)}}async function w(a){o.value.push(`[${new Date().toLocaleTimeString()}] Đang xoá container ${a}`);try{const e=new FormData;e.append("id",a);const s=await p.post(`${d.REMOVE_CONTAINER_DOCKER}`,e);s.success&&l(),o.value.push(`[${new Date().toLocaleTimeString()}] ${s.message}`)}catch(e){console.log(`Docker: ${e}`)}}return(a,e)=>(r(),c("div",S,[t("div",I,[t("div",T,[t("button",{class:"flex items-center text-sm text-blue-600 hover:text-blue-700 md:hidden",onClick:e[0]||(e[0]=s=>a.$emit("openSideBarFn"))},[x(g($),{class:"mr-1"})]),e[1]||(e[1]=t("h1",{class:"text-xl font-semibold text-gray-900"},"Containers",-1))]),t("div",N,[t("table",L,[e[2]||(e[2]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{scope:"col",class:"px-3 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase"}," Name "),t("th",{scope:"col",class:"px-3 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase"}," Container ID "),t("th",{scope:"col",class:"px-3 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase"}," Image "),t("th",{scope:"col",class:"px-3 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase"}," Network "),t("th",{scope:"col",class:"px-3 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase"}," Port(s) "),t("th",{scope:"col",class:"px-3 py-3 text-xs font-medium tracking-wider text-left text-gray-500 uppercase"}," Status "),t("th",{scope:"col",class:"px-3 py-3 text-xs font-medium tracking-wider text-right text-gray-500 uppercase"}," Actions ")])],-1)),t("tbody",O,[(r(!0),c(h,null,f(m.value,(s,n)=>(r(),c("tr",{key:`Container-${n}`},[t("td",A,[t("div",E,i(s.Names),1)]),t("td",R,i(s.ID),1),t("td",P,i(s.Image),1),t("td",F,i(s.Networks),1),t("td",V,i(s.Ports),1),t("td",j,i(s.Status),1),t("td",B,[s.Status.substring(0,2)=="Up"?(r(),c("button",{key:0,class:"text-gray-400 hover:text-gray-500",onClick:u=>v(s.ID)},[x(g(C),{class:"w-4 h-4"})],8,K)):(r(),c("button",{key:1,class:"text-gray-400 hover:text-gray-500",onClick:u=>k(s.ID)},[x(g(b),{class:"w-4 h-4"})],8,M)),t("button",{class:"text-gray-400 hover:text-gray-500",onClick:u=>w(s.ID)},[x(g(D),{class:"w-4 h-4"})],8,q)])]))),128))])])])]),t("div",z,[e[3]||(e[3]=t("h2",{class:"mb-4 text-2xl font-semibold"},"Logs",-1)),t("div",H,[(r(!0),c(h,null,f(o.value,(s,n)=>(r(),c("p",{key:`Container-log-${n}`},i(s),1))),128))])])]))}};export{W as default};
