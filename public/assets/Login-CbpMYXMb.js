import{u as m,r as l,o as c,c as g,a as s,w as f,b,A as x,d as v,e as y,f as i,v as u}from"./index-CDvfFfFm.js";const w={class:"flex items-center justify-center min-h-screen p-4 bg-gradient-to-br from-indigo-100 via-blue-50 to-pink-100 sm:p-6 lg:p-8"},h={class:"w-full max-w-md p-6 space-y-8 transition-all transform bg-white shadow-2xl sm:p-8 rounded-2xl"},k={class:"-space-y-px rounded-md shadow-sm"},L={__name:"Login",setup(I){const t=m(),d=y(),n=l(""),a=l("");async function p(){try{const r=new FormData;r.append("username",n.value),r.append("password",a.value);const e=await b.post(x.LOGIN,r);if(e.success)v().getUserInfo(),t.success("Đăng nhập thành công"),localStorage.setItem("accessToken",e.token),d.push({name:"home"});else switch(e.message){case"userPassIncorrect":t.error("Tài khoản, mật khẩu không đúng");break;case"serverError":t.error("Lỗi server");break;default:break}}catch(r){console.log(`Login: ${r}`),t.error("Lỗi")}}return(r,e)=>(c(),g("div",w,[s("div",h,[e[6]||(e[6]=s("div",null,[s("h2",{class:"mt-6 text-3xl font-extrabold text-center text-gray-900"}," Chào mừng trở lại "),s("p",{class:"mt-2 text-center text-gray-600"},"Đăng nhập để tiếp tục")],-1)),s("form",{class:"mt-8 space-y-6",onSubmit:f(p,["prevent"])},[s("div",k,[s("div",null,[e[2]||(e[2]=s("label",{for:"username",class:"sr-only"},"Tên đăng nhập",-1)),i(s("input",{id:"username",name:"username",type:"text",required:"",class:"relative block w-full px-3 py-3 text-gray-900 placeholder-gray-500 transition-all duration-300 ease-in-out border border-gray-300 appearance-none rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10",placeholder:"Nhập tên đăng nhập","onUpdate:modelValue":e[0]||(e[0]=o=>n.value=o)},null,512),[[u,n.value]])]),s("div",null,[e[3]||(e[3]=s("label",{for:"password",class:"sr-only"},"Mật khẩu",-1)),i(s("input",{id:"password",name:"password",type:"password",required:"",class:"relative block w-full px-3 py-3 text-gray-900 placeholder-gray-500 transition-all duration-300 ease-in-out border border-gray-300 appearance-none rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10",placeholder:"Mật khẩu","onUpdate:modelValue":e[1]||(e[1]=o=>a.value=o)},null,512),[[u,a.value]])])]),e[4]||(e[4]=s("div",null,[s("button",{type:"submit",class:"relative flex justify-center w-full px-4 py-3 font-medium text-white border border-transparent rounded-md group bg-gradient-to-r from-indigo-600 to-blue-600"}," Đăng nhập ")],-1)),e[5]||(e[5]=s("div",{class:"text-sm text-gray-500"},[s("p",null,"Username: admin"),s("p",null,"Password: admin")],-1))],32),e[7]||(e[7]=s("div",{class:"h-3"},null,-1))])]))}};export{L as default};
